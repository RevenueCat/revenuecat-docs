---
title: "[Beta] RevenueCat Checkout"
slug: revenuecat-checkout
excerpt: How to set up hosted paywalls in RevenueCat
hidden: true
---
RevenueCat Checkout enables developers to set up hosted paywalls in RevenueCat to provide customers with an easy-to-use alternative to in-app purchases. RevenueCat Checkout uses Stripe under-the-hood, so your existing Stripe connection and products are already compatible with RevenueCat Checkout hosted paywalls.

# 1. Getting Started
## Stripe Configuration

To get started with setting up RevenueCat Checkout you'll need to first connect your Stripe account by following our [Stripe Configuration](doc:stripe-configuration) guide.

The configuration guide details:
- Connecting your Stripe account to RevenueCat
- Creating a Stripe App in RevenueCat
- Creating and adding Stripe products to RevenueCat
- Connecting products to RevenueCat entitlements

## Setup Stripe Webhooks

We recommend setting up Stripe webhooks for [Platform Server Notifications](doc:server-notifications).

Additionally, RevenueCat Checkout requires the following webhook events to be configured:

- `price.created`
- `price.updated`
- `price.deleted`

The webhook URL for these should point to your Project's unique webhook URL in your Stripe app settings:
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/f288661-Screen_Shot_2022-03-09_at_12.41.16_PM.png",
        "Screen Shot 2022-03-09 at 12.41.16 PM.png",
        1864,
        962,
        "#f9f9fa"
      ],
      "sizing": "80",
      "border": true
    }
  ]
}
[/block]
## Add products to Offerings and Entitlements

To use RevenueCat Checkout, your Stripe products will first need to be added to an Offering. For more information on how to add your RevenueCat products to Offerings and Entitlements, check out our guide on [configuring products in RevenueCat](https://docs.revenuecat.com/docs/entitlements).

## Use custom App User IDs

At this time, anonymous user identifiers aren't supported in RevenueCat Checkout (e.g. identifiers that are automatically generated by RevenueCat). You can read more about custom App User IDs in our [Identifying Users](doc:user-ids) guide.

# 2. Configure a Paywall

In your Stripe app's settings, click 'Get Started' under the RevenueCat Checkout section.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/bd8bc51-Screen_Shot_2022-06-06_at_11.32.53_AM.png",
        "Screen Shot 2022-06-06 at 11.32.53 AM.png",
        986,
        214,
        "#f7f8f8"
      ],
      "sizing": "80",
      "border": true
    }
  ]
}
[/block]
## üé® Customization

#### üì± App Icon 

Upload an icon for your app to be displayed during checkout. Recommended size: XXxXX

#### üìù Paywall Description

Enter a description that's displayed to your customers during checkout.

#### ü§ù Terms and Privacy Policy

RevenueCat Checkout allows for customizing your Terms and Privacy Policy URLs and link titles. Use these options to direct customers to your own policies. Additionally, you can require customers to agree to these terms before making a purchase.

#### üí∞ Sales Tax using Stripe Tax

You can optionally choose to collect taxes with Stripe Tax. Taxes collected via RevenueCat Checkout are not included in Charts or other RevenueCat reports at this time, and should be managed from Stripe directly.

#### ‚û°Ô∏è Redirect URLs

We'll include a button linking to a redirect URL after a purchase is completed. For a redirect URL to be valid, you'll first need to include it in your RevenueCat Checkout settings.
[block:callout]
{
  "type": "success",
  "title": "At least one redirect URL is required",
  "body": "One redirect URL will be considered default and is required."
}
[/block]

[block:callout]
{
  "type": "info",
  "title": "Tip!",
  "body": "Use deep links to redirect users back to your app after a purchase.\n\n[:fa-arrow-right: Universal Links (Apple)](https://developer.apple.com/ios/universal-links/) \n[:fa-arrow-right: App Links (Google)](https://developer.android.com/training/app-links)"
}
[/block]
# 3. Making Purchases & Paywall URLs 

**(Not yet available)** Each customer has a unique paywall URL that is displayed in their [Customer Profile](doc:customers) for any configured RevenueCat Checkout paywalls, and can be shared with your customers for checkout.

## Manually creating paywall URLs

To manually create URLs, you should format your RevenueCat Checkout Paywall ID and App User ID into the RevenueCat Checkout URL template:

```
https://checkout.revenuecat.com/pay/{paywall-id}/{app-user-id}
```
[block:callout]
{
  "type": "info",
  "body": "If a provided App User ID doesn't exist in RevenueCat yet, the user will be created as soon as the user visits the paywall.",
  "title": "New Customers"
}
[/block]
You can get your RevenueCat Checkout Paywall ID from your App Settings:
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/641b495-Screenshot_2022-06-07_at_16.11.52.png",
        "Screenshot 2022-06-07 at 16.11.52.png",
        1820,
        200,
        "#fbfbfb"
      ],
      "sizing": "80",
      "border": true
    }
  ]
}
[/block]
The redirect URL you set as default will be automatically used if no redirect URL is provided. To provide a preferred redirect URL, add a `redirect_url` parameter:

```
https://checkout.revenuecat.com/pay/{paywall-id}/{app-user-id}?redirect_url={redirect-url}
```

Redirect URLs must first be configured in the RevenueCat Checkout settings as described above. If the redirect URL provided isn't registered in your project's RevenueCat Checkout settings, an error will be displayed to your customers.

# 4. Checking Subscription Status

Checking [subscription status](doc:purchaserinfo) for RevenueCat Checkout purchases is the same as for other supported RevenueCat stores. Once a purchase has been completed, we'll include the relevant details in the customer's <<glossary:CustomerInfo>> that can be fetched from the [API](https://docs.revenuecat.com/reference/subscribers) or [SDK](doc:purchaserinfo) directly.

If your customers are purchasing from the same device as your app (like from an email link), you'll need to refresh CustomerInfo as soon as possible in your app to ensure your user gains access to their new entitlements.

## Refreshing CustomerInfo

Since the SDK caches CustomerInfo for up to five minutes between refreshes, you'll need to determine an appropriate time to refresh it so the user isn't still restricted after they made a purchase. 

RevenueCat Checkout supports a customizable link that is displayed in your paywall after a purchase occurs. You'll need to manually configure your app to support a custom URL scheme or Universal Link that can handle this link when it is clicked on the device.

Once a user has been redirected back to your app after clicking the link in the paywall, you should immediately invalidate the CustomerInfo cache:
[block:file]
{"language":"swift","name":"","file":"code_blocks/üõ† Tools/revenuecat-checkout_1.swift"}
[/block]

After the cache has been invalidated, you can fetch CustomerInfo again to retrieve the latest information about the customer and their purchases and unlock the features they are entitled to.
[block:file]
{"language":"swift","name":"","file":"code_blocks/üõ† Tools/revenuecat-checkout_2.swift"}
[/block]

# 5. Managing RevenueCat Checkout Purchases

Your customers can manage their subscription by clicking the 'Manage' link in their purchase confirmation email, or you can link them to the management page directly by building their unique URL:

```
https://checkout.revenuecat.com/manage/{paywall-id}/auth/{app-user-id}
```
Additionally, we include the management URL in [CustomerInfo](doc:purchaserinfo) for active subscriptions purchased via a RevenueCat Checkout paywall.
[block:callout]
{
  "type": "info",
  "body": "You can include a registered redirect URL for manage URLs too, otherwise the default redirect URL will be used."
}
[/block]
## Refunding

You can refund a customer's purchase by finding and refunding the purchase from your Stripe dashboard directly. To view the purchase in Stripe, click the link in a Customer's purchase or renewal event in their [Customer History](doc:customer-history).

# Disabling RevenueCat Checkout
[block:callout]
{
  "type": "danger",
  "body": "If you disable RevenueCat Checkout, your paywall links will immediately stop working for new customers, and no new purchases will be allowed.\n\nManagement URLs will continue to work for existing customers."
}
[/block]
To disable RevenueCat Checkout, click 'Disable' in the RevenueCat Checkout configuration section of your Stripe app. 

After disabling RevenueCat Checkout, your paywall links will no longer be active.

# Considerations

## App Store Guidelines

App Store guidelines current prohibit opening or linking to third-party payment methods from within an app. You shouldn't yet link to a RevenueCat Checkout paywall from inside your app as it violates App Store Review Guidelines and you'll risk app rejection.

## Product Prices

RevenueCat fetches product prices from Stripe every hour, so it may take up to an hour for a price change to be reflected in the checkout flow.